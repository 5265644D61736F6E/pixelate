int test() {
  unsigned char img[48] = {
    0x00,0x00,0x00,
    0x40,0x40,0x40,
    0x80,0x80,0x80,
    0xC0,0xC0,0xC0,
    0x00,0x00,0x00,
    0x40,0x30,0x30,
    0x80,0x60,0x60,
    0xC0,0x90,0x90,
    0x00,0x00,0x00,
    0x40,0x20,0x20,
    0x80,0x40,0x40,
    0xC0,0x60,0x60,
    0x00,0x00,0x00,
    0x40,0x10,0x10,
    0x80,0x20,0x20,
    0xC0,0x30,0x30
  };

  char palette[12] = {
    0x00,0x00,0x00,
    0xFF,0x00,0x00,
    0x00,0x00,0xFF,
    0xFF,0xFF,0xFF
  };

  data_t* data = malloc(sizeof(data_t));
  read_img("test.png",data);

  for (int i = 0;i < data->c_width * data->c_height * data->channels;i++)
    printf("%02hhX",data->buf[i]);

  free(data);
}

int main() {
  test();
}
